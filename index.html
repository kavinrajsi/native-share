<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Awesome Image Website Share</title>
  </head>
  <body>
    <img
      id="share-image"
      src="https://native-share.vercel.app/test.png"
      alt="Share Image"
      style="display: none"
    />
    <div>
      <button id="download-image">Download</button>
      <button id="share-facebook">Share on Facebook</button>
      <button id="share-linkedin">Share on LinkedIn</button>
      <button id="share-twitter">Share on Twitter</button>
      <button id="share-pinterest">Share on Pinterest</button>
      <button id="native-share-button">Share</button>
    </div>

    <script>
      // document
      //   .getElementById("download-image")
      //   .addEventListener("click", function () {
      //     var img = document.getElementById("share-image");
      //     var link = document.createElement("a");
      //     link.href = img.src;
      //     link.download = "image.png";
      //     document.body.appendChild(link);
      //     link.click();
      //     document.body.removeChild(link);
      //   });

      document.getElementById("download-image").addEventListener("click", function (event) {
    event.preventDefault(); // Prevent default anchor behavior
    var img = document.getElementById("share-image");
    var link = document.createElement("a");
    link.href = img.src;
    link.download = "image.png";
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
});


      // NOTE: Need to look at how we can add an description
      document.getElementById("share-facebook").onclick = function () {
        var imageUrl = document.getElementById("share-image").src;
        var text = "Check out this awesome image!";
        var facebookShareUrl =
          "https://www.facebook.com/sharer/sharer.php?u=" +
          encodeURIComponent(imageUrl) +
          "";
        window.open(facebookShareUrl, "_blank", "width=600,height=400");
      };

      document.getElementById("share-linkedin").onclick = function () {
        var imageUrl = document.getElementById("share-image").src;
        var text = "Check out this awesome image!";
        var linkedinShareUrl =
          "https://www.linkedin.com/shareArticle?mini=true&url=" +
          encodeURIComponent(imageUrl) +
          "&title=" +
          encodeURIComponent(text);
        window.open(linkedinShareUrl, "_blank", "width=600,height=400");
      };
      // NOTE: Need to look at how we can add an image
      document.getElementById("share-twitter").onclick = function () {
        var imageUrl = document.getElementById("share-image").src;
        var text = "Check out this awesome image!";
        var twitterShareUrl =
          "https://twitter.com/intent/tweet?url=" +
          encodeURIComponent(imageUrl) +
          "&text=" +
          encodeURIComponent(text);
        window.open(twitterShareUrl, "_blank", "width=600,height=400");
      };

      document.getElementById("share-pinterest").onclick = function () {
        var imageUrl = document.getElementById("share-image").src;
        var text = "Check out this awesome image!";
        var pinterestShareUrl =
          "https://pinterest.com/pin/create/button/?url=" +
          encodeURIComponent(imageUrl) +
          "&description=" +
          encodeURIComponent(text) +
          "&media=" +
          encodeURIComponent(imageUrl);
        window.open(pinterestShareUrl, "_blank", "width=600,height=400");
      };
      // NOTE: Need to configure the code for native share
      document.getElementById("native-share-button").onclick = function () {
        var imageUrl = document.getElementById("share-image").src;
        var text = "Check out this awesome image!";
        var url = imageUrl; // Assuming you want to share the image URL

        if (navigator.share) {
          navigator
            .share({
              title: "Awesome Image",
              text: text,
              url: url,
            })
            .then(() => {
              console.log("Successful share");
            })
            .catch((error) => {
              console.error("Error sharing:", error);
            });
        } else {
          alert("Your browser does not support the native share feature.");
        }
      };
    </script>
  </body>
</html>
